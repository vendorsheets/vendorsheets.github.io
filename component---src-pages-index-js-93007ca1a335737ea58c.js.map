{"version":3,"sources":["webpack:///./src/pages/index.js"],"names":["FRUITS","submitButton","className","type","value","successButton","disabled","failedButton","useState","requestState","setRequestState","loadingFruitIndex","setLoadingFruitIndex","useEffect","id","setInterval","clearInterval","style","justifyContent","onSubmit","event","preventDefault","formData","FormData","target","fetch","method","body","then","response","catch","error","console","message","placeholder","name","fruit","getSubmitButton"],"mappings":"2FAAA,4CAQMA,GARN,UAQe,CAAC,KAAM,KAAM,OAEtBC,EACJ,2BACEC,UAAU,sEACVC,KAAK,SACLC,MAAM,cAaJC,EACJ,2BACEH,UAAU,4DACVC,KAAK,SACLC,MAAM,KACNE,UAAU,IAIRC,EACJ,2BACEL,UAAU,0DACVC,KAAK,SACLC,MAAM,6CAIK,qBAAO,IAAD,EACqBI,mBAAS,WAA1CC,EADY,KACEC,EADF,OAE+BF,mBAAS,GAApDG,EAFY,KAEOC,EAFP,KAInBC,qBAAU,WACR,IAAIC,EAAKC,aACP,kBAAMH,GAAsBD,EAAoB,GAAK,KACrD,KAGF,OAAO,kBAAMK,cAAcF,OA8B7B,OACE,yBAAKZ,UAAU,QACb,yBAAKA,UAAU,UACb,kBAAC,IAAD,KACE,yBAAKA,UAAU,OAAOe,MAAO,CAAEC,eAAgB,iBAC7C,yBAAKhB,UAAU,iBACb,6BACE,yBAAKA,UAAU,eAAf,0BACA,yBAAKA,UAAU,uBAAf,aACA,yBAAKA,UAAU,kBAAf,6GAGA,0BAAMA,UAAU,kBAAkBiB,SAvC5B,SAACC,GACnBA,EAAMC,iBACN,IAAMC,EAAW,IAAIC,SAASH,EAAMI,QAEpCd,EAAgB,WAEhBe,MAzDc,iGAyDG,CAAEC,OAAQ,OAAQC,KAAML,IACtCM,MAAK,SAAAC,GAAQ,OAAInB,EAAgB,cACjCoB,OAAM,SAAAC,GACLrB,EAAgB,UAChBsB,QAAQD,MAAM,QAASA,EAAME,cA8BnB,2BACE/B,UAAU,yEACVC,KAAK,OACL+B,YAAY,aACZC,KAAK,eAEP,2BACEjC,UAAU,wEACVC,KAAK,OACL+B,YAAY,YACZC,KAAK,cAEP,2BACEjC,UAAU,0DACVC,KAAK,QACL+B,YAAY,gBACZC,KAAK,UAEP,2BACEjC,UAAU,0DACVC,KAAK,OACL+B,YAAY,QACZC,KAAK,UAEP,2BACEjC,UAAU,wDACVC,KAAK,OACL+B,YAAY,kBACZC,KAAK,QAtDC,WACtB,OAAO1B,GACL,IAAK,UACH,OAxDkB2B,EAwDMpC,EAAOW,GAvDrC,2BACET,UAAU,8DACVC,KAAK,SACLC,MAAOgC,EACP9B,UAAU,IAoDR,IAAK,UACH,OAAOD,EACT,IAAK,SACH,OAAOE,EACT,QACE,OAAON,EA9DU,IAACmC,EA6GNC,SAOd,yBAAKnC,UAAU","file":"component---src-pages-index-js-93007ca1a335737ea58c.js","sourcesContent":["import React, { useState, useEffect } from \"react\"\nimport Layout from \"../components/layout\"\n\nimport \"./index.css\"\n\n\nconst scriptURL = 'https://script.google.com/macros/s/AKfycbz_0tQJcLW-O0S_lFf-a89QdZsYZcLLpgpst0X3gq9MGL38rw/exec';\n\nconst FRUITS = [\"üçé\", \"üçå\", \"üçá\"];\n\nconst submitButton = (\n  <input\n    className=\"input-reset bg-green white f6 pv2 ph3 ba br1 b--green w-100 pointer\"\n    type=\"submit\"\n    value=\"Notify Me\"\n  />\n);\n\nconst getLoadingButton = (fruit) => (\n  <input\n    className=\"input-reset bg-green white f6 pv2 ph3 ba br1 b--green w-100\"\n    type=\"submit\"\n    value={fruit}\n    disabled={true}\n  />\n);\n\nconst successButton = (\n  <input\n    className=\"input-reset bg-blue white f6 pv2 ph3 ba br1 b--blue w-100\"\n    type=\"submit\"\n    value=\"üëç\"\n    disabled={true}\n  />\n);\n\nconst failedButton = (\n  <input\n    className=\"input-reset bg-red white f6 pv2 ph3 ba br1 b--red w-100\"\n    type=\"submit\"\n    value=\"Something went wrong. Click to try again\"\n  />\n);\n\nexport default () => {\n  const [requestState, setRequestState] = useState(\"INITIAL\");\n  const [loadingFruitIndex, setLoadingFruitIndex] = useState(0);\n\n  useEffect(() => {\n    let id = setInterval(\n      () => setLoadingFruitIndex((loadingFruitIndex + 1) % 3),\n      400,\n    );\n\n    return () => clearInterval(id);\n  })\n\n  const sendToSheet = (event) => {\n    event.preventDefault();\n    const formData = new FormData(event.target);\n\n    setRequestState(\"LOADING\");\n\n    fetch(scriptURL, { method: 'POST', body: formData })\n      .then(response => setRequestState(\"SUCCESS\"))\n      .catch(error => {\n        setRequestState(\"FAILED\");\n        console.error('Error', error.message)\n      });\n  };\n\n  const getSubmitButton = () => {\n    switch(requestState) {\n      case \"LOADING\":\n        return getLoadingButton(FRUITS[loadingFruitIndex]);\n      case \"SUCCESS\":\n        return successButton;\n      case \"FAILED\":\n        return failedButton;\n      default:\n        return submitButton;\n    }\n  }\n\n  return (\n    <div className=\"flex\">\n      <div className=\"flex-1\">\n        <Layout>\n          <div className=\"flex\" style={{ justifyContent: 'space-around' }}>\n            <div className=\"pa4-ns flex-1\">\n              <div>\n                <div className=\"f2 lh-title\">Hundreds of retailers.</div>\n                <div className=\"f2 lh-title mb3 fw9\">One form.</div>\n                <div className=\"f4 lh-copy mb4\">\n                  Enter your information once. We'll format it for Whole Foods, Kroger, and more. No spreadsheets required.\n                </div>\n                <form className=\"mw6 signup-form\" onSubmit={sendToSheet}>\n                  <input\n                    className=\"f6 input-reset ba br1 pv2 ph2 mb1 w-50 mb2 name-input first-name-input\"\n                    type=\"text\"\n                    placeholder=\"First Name\"\n                    name=\"first_name\"\n                  />\n                  <input\n                    className=\"f6 input-reset ba br1 pv2 ph2 mb1 w-50 mb2 name-input last-name-input\"\n                    type=\"text\"\n                    placeholder=\"Last Name\"\n                    name=\"last_name\"\n                  />\n                  <input\n                    className=\"f6 input-reset ba br1 pv2 ph2 mb1 w-100 mb2 email-input\"\n                    type=\"email\"\n                    placeholder=\"Email Address\"\n                    name=\"email\"\n                  />\n                  <input\n                    className=\"f6 input-reset ba br1 pv2 ph2 mb1 w-100 mb2 brand-input\"\n                    type=\"text\"\n                    placeholder=\"Brand\"\n                    name=\"brand\"\n                  />\n                  <input\n                    className=\"f6 input-reset ba br1 pv2 ph2 mb1 w-100 mb3 upc-input\"\n                    type=\"text\"\n                    placeholder=\"Top Selling UPC\"\n                    name=\"upc\"\n                  />\n                  { getSubmitButton() }\n                </form>\n              </div>\n            </div>\n          </div>\n        </Layout>\n      </div>\n      <div className=\"vh-100 cover dn db-ns flex-1 stock-bg\"></div>\n    </div>\n  );\n}\n"],"sourceRoot":""}