{"version":3,"sources":["webpack:///./src/pages/index.js"],"names":["submitButton","className","type","value","successButton","failedButton","LoadingButton","FRUITS","useState","loadingFruitIndex","setLoadingFruitIndex","useEffect","id","setInterval","length","clearInterval","requestState","setRequestState","page","window","location","pathname","style","justifyContent","onSubmit","event","preventDefault","formData","FormData","target","fetch","method","body","then","response","catch","error","console","message","placeholder","name","getSubmitButton"],"mappings":"2FAAA,4CAQMA,GARN,UASE,2BACEC,UAAU,sEACVC,KAAK,SACLC,MAAM,eAIJC,EACJ,2BACEH,UAAU,4DACVC,KAAK,SACLC,MAAM,OAIJE,EACJ,2BACEJ,UAAU,0DACVC,KAAK,SACLC,MAAM,6CAKJG,EAAgB,WACpB,IAAMC,EAAS,CAAC,KAAM,KAAM,KAAM,KAAM,MADd,EAEwBC,mBAAS,GAApDC,EAFmB,KAEAC,EAFA,KAa1B,OATAC,qBAAU,WACR,IAAIC,EAAKC,aACP,kBAAMH,GAAsBD,EAAoB,GAAKF,EAAOO,UAC5D,KAGF,OAAO,kBAAMC,cAAcH,OAI3B,2BACEX,UAAU,8DACVC,KAAK,SACLC,MAAOI,EAAOE,MAKL,qBAAO,IAAD,EACqBD,mBAAS,WAA1CQ,EADY,KACEC,EADF,KA8BbC,EAAOC,OAAOC,SAASC,SAE7B,OACE,yBAAKpB,UAAU,QACb,yBAAKA,UAAU,UACb,kBAAC,IAAD,KACE,yBAAKA,UAAU,OAAOqB,MAAO,CAAEC,eAAgB,iBAC7C,yBAAKtB,UAAU,iBACb,6BACE,yBAAKA,UAAU,eAAf,0BACA,yBAAKA,UAAU,uBAAf,aACA,yBAAKA,UAAU,kBAAf,6GAGA,0BAAMA,UAAU,kBAAkBuB,SAzC5B,SAACC,GACnBA,EAAMC,iBACN,IAAMC,EAAW,IAAIC,SAASH,EAAMI,QAEpCZ,EAAgB,WAEhBa,MA1Dc,iGA0DG,CAAEC,OAAQ,OAAQC,KAAML,IACtCM,MAAK,SAAAC,GAAQ,OAAIjB,EAAgB,cACjCkB,OAAM,SAAAC,GACLnB,EAAgB,UAChBoB,QAAQD,MAAM,QAASA,EAAME,cAgCnB,2BACErC,UAAU,yEACVC,KAAK,OACLqC,YAAY,aACZC,KAAK,eAEP,2BACEvC,UAAU,wEACVC,KAAK,OACLqC,YAAY,YACZC,KAAK,cAEP,2BACEvC,UAAU,0DACVC,KAAK,QACLqC,YAAY,gBACZC,KAAK,UAEP,2BACEvC,UAAU,0DACVC,KAAK,OACLqC,YAAY,QACZC,KAAK,UAEP,2BACEvC,UAAU,wDACVC,KAAK,OACLqC,YAAY,kBACZC,KAAK,QAEP,2BACEtC,KAAK,SACLsC,KAAK,OACLrC,MAAOe,IA7DD,WACtB,OAAOF,GACL,IAAK,UACH,OAAQ,kBAACV,EAAD,MACV,IAAK,UACH,OAAOF,EACT,IAAK,SACH,OAAOC,EACT,QACE,OAAOL,GAsDKyC,SAOd,yBAAKxC,UAAU","file":"component---src-pages-rip-js-b6a5c9ae3d98723ad994.js","sourcesContent":["import React, { useState, useEffect } from \"react\"\nimport Layout from \"../components/layout\"\n\nimport \"./index.css\"\n\n\nconst scriptURL = 'https://script.google.com/macros/s/AKfycbz_0tQJcLW-O0S_lFf-a89QdZsYZcLLpgpst0X3gq9MGL38rw/exec';\n\nconst submitButton = (\n  <input\n    className=\"input-reset bg-green white f6 pv2 ph3 ba br1 b--green w-100 pointer\"\n    type=\"submit\"\n    value=\"Notify Me\"\n  />\n);\n\nconst successButton = (\n  <input\n    className=\"input-reset bg-blue white f6 pv2 ph3 ba br1 b--blue w-100\"\n    type=\"submit\"\n    value=\"ðŸ‘\"\n  />\n);\n\nconst failedButton = (\n  <input\n    className=\"input-reset bg-red white f6 pv2 ph3 ba br1 b--red w-100\"\n    type=\"submit\"\n    value=\"Something went wrong. Click to try again\"\n  />\n);\n\n\nconst LoadingButton = () => {\n  const FRUITS = [\"ðŸŽ\", \"ðŸŒ\", \"ðŸ‡\", \"ðŸ‰\", \"ðŸ¥­\"];\n  const [loadingFruitIndex, setLoadingFruitIndex] = useState(0);\n\n  useEffect(() => {\n    let id = setInterval(\n      () => setLoadingFruitIndex((loadingFruitIndex + 1) % FRUITS.length),\n      400,\n    );\n\n    return () => clearInterval(id);\n  })\n\n  return (\n    <input\n      className=\"input-reset bg-green white f6 pv2 ph3 ba br1 b--green w-100\"\n      type=\"submit\"\n      value={FRUITS[loadingFruitIndex]}\n    />\n  );\n}\n\nexport default () => {\n  const [requestState, setRequestState] = useState(\"INITIAL\");\n\n  const sendToSheet = (event) => {\n    event.preventDefault();\n    const formData = new FormData(event.target);\n\n    setRequestState(\"LOADING\");\n\n    fetch(scriptURL, { method: 'POST', body: formData })\n      .then(response => setRequestState(\"SUCCESS\"))\n      .catch(error => {\n        setRequestState(\"FAILED\");\n        console.error('Error', error.message)\n      });\n  };\n\n  const getSubmitButton = () => {\n    switch(requestState) {\n      case \"LOADING\":\n        return (<LoadingButton/>);\n      case \"SUCCESS\":\n        return successButton;\n      case \"FAILED\":\n        return failedButton;\n      default:\n        return submitButton;\n    }\n  }\n\n  const page = window.location.pathname;\n\n  return (\n    <div className=\"flex\">\n      <div className=\"flex-1\">\n        <Layout>\n          <div className=\"flex\" style={{ justifyContent: 'space-around' }}>\n            <div className=\"pa4-ns flex-1\">\n              <div>\n                <div className=\"f2 lh-title\">Hundreds of retailers.</div>\n                <div className=\"f2 lh-title mb3 fw9\">One form.</div>\n                <div className=\"f4 lh-copy mb4\">\n                  Enter your information once. We'll format it for Whole Foods, Kroger, and more. No spreadsheets required.\n                </div>\n                <form className=\"mw6 signup-form\" onSubmit={sendToSheet}>\n                  <input\n                    className=\"f6 input-reset ba br1 pv2 ph2 mb1 w-50 mb2 name-input first-name-input\"\n                    type=\"text\"\n                    placeholder=\"First Name\"\n                    name=\"first_name\"\n                  />\n                  <input\n                    className=\"f6 input-reset ba br1 pv2 ph2 mb1 w-50 mb2 name-input last-name-input\"\n                    type=\"text\"\n                    placeholder=\"Last Name\"\n                    name=\"last_name\"\n                  />\n                  <input\n                    className=\"f6 input-reset ba br1 pv2 ph2 mb1 w-100 mb2 email-input\"\n                    type=\"email\"\n                    placeholder=\"Email Address\"\n                    name=\"email\"\n                  />\n                  <input\n                    className=\"f6 input-reset ba br1 pv2 ph2 mb1 w-100 mb2 brand-input\"\n                    type=\"text\"\n                    placeholder=\"Brand\"\n                    name=\"brand\"\n                  />\n                  <input\n                    className=\"f6 input-reset ba br1 pv2 ph2 mb1 w-100 mb3 upc-input\"\n                    type=\"text\"\n                    placeholder=\"Top Selling UPC\"\n                    name=\"upc\"\n                  />\n                  <input\n                    type=\"hidden\"\n                    name=\"page\"\n                    value={page}\n                  />\n                  { getSubmitButton() }\n                </form>\n              </div>\n            </div>\n          </div>\n        </Layout>\n      </div>\n      <div className=\"vh-100 cover dn db-ns flex-1 stock-bg\"></div>\n    </div>\n  );\n}\n"],"sourceRoot":""}